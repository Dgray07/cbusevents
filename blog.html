<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Columbus Events Blog | CBUSEVENTS</title>
<meta name="description" content="Columbus event guides, venue spotlights, and local nightlife news. Your insider source for what's happening in Columbus, Ohio.">
<meta property="og:title" content="Columbus Events Blog | CBUSEVENTS">
<meta property="og:description" content="Columbus event guides, venue spotlights, and local nightlife news.">
<meta property="og:image" content="https://cbusevents.com/og-image.png">
<meta property="og:url" content="https://cbusevents.com/blog.html">
<meta name="twitter:card" content="summary_large_image">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@700;800&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<script src="https://unpkg.com/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
:root{
  --bg:#0b0b0f;
  --surface:#13131a;
  --card:#1a1a24;
  --border:#25252f;
  --text:#e8e8f0;
  --sub:#8888a0;
  --muted:#55556a;
  --orange:#FF6B35;
  --green:#22c55e;
}
body{background:var(--bg);color:var(--text);font-family:'DM Sans',sans-serif;min-height:100vh;}

/* NAV */
nav{display:flex;align-items:center;justify-content:space-between;padding:0 48px;height:60px;border-bottom:1px solid var(--border);position:sticky;top:0;background:rgba(11,11,15,0.95);backdrop-filter:blur(12px);z-index:100;}
.nav-logo{font-family:'Syne',sans-serif;font-size:20px;font-weight:800;text-decoration:none;color:var(--text);}
.nav-logo span{color:var(--orange);}
.nav-links{display:flex;gap:24px;align-items:center;}
.nav-link{background:none;border:none;color:var(--sub);font-size:14px;cursor:pointer;font-family:'DM Sans',sans-serif;text-decoration:none;transition:color 0.15s;}
.nav-link:hover{color:var(--text);}
.nav-cta{background:var(--orange);color:#fff;border:none;border-radius:8px;padding:8px 18px;font-size:13px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;text-decoration:none;}

/* HERO */
.blog-hero{padding:80px 48px 60px;max-width:1100px;margin:0 auto;}
.blog-eyebrow{display:inline-flex;align-items:center;gap:6px;background:#FF6B3515;color:var(--orange);border:1px solid #FF6B3530;border-radius:20px;padding:4px 14px;font-size:11px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;margin-bottom:20px;}
.blog-hero h1{font-family:'Syne',sans-serif;font-size:clamp(36px,5vw,56px);font-weight:800;line-height:1.05;margin-bottom:16px;}
.blog-hero h1 span{color:var(--orange);}
.blog-hero p{color:var(--sub);font-size:17px;line-height:1.65;max-width:560px;}

/* CATEGORIES */
.cat-bar{padding:0 48px 32px;max-width:1100px;margin:0 auto;display:flex;gap:8px;flex-wrap:wrap;}
.cat-chip{background:var(--surface);border:1px solid var(--border);border-radius:20px;padding:6px 16px;font-size:13px;color:var(--sub);cursor:pointer;transition:all 0.15s;font-family:'DM Sans',sans-serif;}
.cat-chip:hover,.cat-chip.active{background:var(--orange);border-color:var(--orange);color:#fff;}

/* GRID */
.blog-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:24px;padding:0 48px 80px;max-width:1100px;margin:0 auto;}
.article-card{background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden;cursor:pointer;transition:all 0.2s;text-decoration:none;display:block;color:var(--text);}
.article-card:hover{transform:translateY(-4px);border-color:#FF6B3540;box-shadow:0 16px 48px rgba(0,0,0,0.4);}
.article-img{width:100%;height:200px;object-fit:cover;background:var(--surface);}
.article-img-placeholder{width:100%;height:200px;background:linear-gradient(135deg,#1a0800,#1a1a24);display:flex;align-items:center;justify-content:center;}
.article-img-placeholder .art-letter{font-family:'Syne',sans-serif;font-size:64px;font-weight:800;color:#FF6B3520;}
.article-body{padding:24px;}
.article-cat{font-size:11px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--orange);margin-bottom:10px;}
.article-title{font-family:'Syne',sans-serif;font-size:18px;font-weight:800;line-height:1.3;margin-bottom:10px;}
.article-sub{font-size:13px;color:var(--sub);line-height:1.6;margin-bottom:16px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}
.article-meta{display:flex;align-items:center;justify-content:space-between;font-size:12px;color:var(--muted);}
.article-read{color:var(--orange);font-weight:600;font-size:13px;}

/* FEATURED - first card bigger */
.article-card.featured{grid-column:1/-1;}
.article-card.featured .article-img,.article-card.featured .article-img-placeholder{height:320px;}
.article-card.featured .article-title{font-size:24px;}

/* SHARE */
.share-bar{display:flex;gap:8px;margin-top:12px;}
.share-btn{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:6px 12px;font-size:12px;color:var(--sub);cursor:pointer;font-family:'DM Sans',sans-serif;transition:all 0.15s;}
.share-btn:hover{border-color:var(--orange);color:var(--orange);}

/* EMPTY */
.empty-state{grid-column:1/-1;text-align:center;padding:80px 20px;color:var(--muted);}
.empty-state h3{font-family:'Syne',sans-serif;font-size:22px;font-weight:800;margin-bottom:8px;color:var(--sub);}

/* LOADING */
.skeleton{background:linear-gradient(90deg,var(--surface) 25%,var(--card) 50%,var(--surface) 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:12px;}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}

/* MOBILE */
@media(max-width:680px){
  nav{padding:0 16px;}
  .blog-hero{padding:48px 16px 32px;}
  .cat-bar{padding:0 16px 24px;}
  .blog-grid{grid-template-columns:1fr;padding:0 16px 48px;gap:16px;}
  .article-card.featured{grid-column:1;}
  .article-card.featured .article-img,.article-card.featured .article-img-placeholder{height:200px;}
}
</style>
</head>
<body>

<nav>
  <a href="https://cbusevents.com" class="nav-logo">CBUS<span>EVENTS</span></a>
  <div class="nav-links">
    <a href="https://cbusevents.com" class="nav-link">Home</a>
    <a href="https://cbusevents.com/blog.html" class="nav-link" style="color:var(--orange)">Blog</a>
  </div>
  <a href="https://cbusevents.com/auth.html" class="nav-cta" id="navCta">Sign In</a>
</nav>

<div class="blog-hero">
  <div class="blog-eyebrow">Columbus Insider</div>
  <h1>Events, Venues &<br><span>Columbus Culture</span></h1>
  <p>Venue guides, event spotlights, and everything happening in Columbus — written for people who actually go out.</p>
</div>

<div class="cat-bar" id="catBar">
  <button class="cat-chip active" onclick="filterCat('all',this)">All</button>
</div>

<div class="blog-grid" id="blogGrid">
  <!-- skeleton loaders -->
  <div class="skeleton" style="height:380px;border-radius:16px;"></div>
  <div class="skeleton" style="height:380px;border-radius:16px;"></div>
  <div class="skeleton" style="height:380px;border-radius:16px;"></div>
</div>

<script>
const SB_URL="https://toblgvatvsjljbqogzsv.supabase.co";
const SB_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRvYmxndmF0dnNqbGpicW9nenN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIxMDgwNTAsImV4cCI6MjA4NzY4NDA1MH0._WJEQPizNDiQfDXQB_DHPaQhixPGpMdmYQSmyWmm_FQ";
const sb=supabase.createClient(SB_URL,SB_KEY);

let allArticles=[];
let currentCat='all';

async function init(){
  // Check auth for nav
  const{data:{session}}=await sb.auth.getSession();
  if(session?.user){
    document.getElementById('navCta').textContent='My Account';
    document.getElementById('navCta').href='https://cbusevents.com/auth.html';
  }

  // Load articles
  const{data,error}=await sb.from('articles')
    .select('id,slug,title,subtitle,cover_image_url,category,published_at,author')
    .eq('status','published')
    .order('published_at',{ascending:false});

  allArticles=data||[];
  buildCategories();
  renderArticles(allArticles);
}

function buildCategories(){
  const cats=[...new Set(allArticles.map(a=>a.category).filter(Boolean))];
  const bar=document.getElementById('catBar');
  cats.forEach(cat=>{
    const btn=document.createElement('button');
    btn.className='cat-chip';
    btn.textContent=cat;
    btn.onclick=()=>filterCat(cat,btn);
    bar.appendChild(btn);
  });
}

function filterCat(cat,btn){
  currentCat=cat;
  document.querySelectorAll('.cat-chip').forEach(c=>c.classList.remove('active'));
  btn.classList.add('active');
  const filtered=cat==='all'?allArticles:allArticles.filter(a=>a.category===cat);
  renderArticles(filtered);
}

function renderArticles(articles){
  const grid=document.getElementById('blogGrid');
  if(!articles.length){
    grid.innerHTML=`<div class="empty-state"><h3>No articles yet</h3><p>Check back soon — Columbus content coming.</p></div>`;
    return;
  }
  grid.innerHTML=articles.map((a,i)=>{
    const url=`https://cbusevents.com/article.html?slug=${a.slug}`;
    const date=a.published_at?new Date(a.published_at).toLocaleDateString('en-US',{month:'long',day:'numeric',year:'numeric'}):'';
    const img=a.cover_image_url
      ?`<img class="article-img" src="${a.cover_image_url}" alt="${a.title}" loading="lazy" onerror="this.outerHTML='<div class=\'article-img-placeholder\'><div class=\'art-letter\'>${a.title[0]}</div></div>'">`
      :`<div class="article-img-placeholder"><div class="art-letter">${a.title[0]}</div></div>`;
    return`<a href="${url}" class="article-card${i===0?' featured':''}">
      ${img}
      <div class="article-body">
        <div class="article-cat">${a.category||'Columbus'}</div>
        <div class="article-title">${a.title}</div>
        ${a.subtitle?`<div class="article-sub">${a.subtitle}</div>`:''}
        <div class="article-meta">
          <span>${a.author||'CBUSEVENTS'} · ${date}</span>
          <span class="article-read">Read →</span>
        </div>
        <div class="share-bar" onclick="event.preventDefault()">
          <button class="share-btn" onclick="shareTwitter('${a.title}','${url}')">X / Twitter</button>
          <button class="share-btn" onclick="shareFacebook('${url}')">Facebook</button>
          <button class="share-btn" onclick="copyLink('${url}',this)">Copy Link</button>
        </div>
      </div>
    </a>`;
  }).join('');
}

function shareTwitter(title,url){
  window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(title)}&url=${encodeURIComponent(url)}&via=cbusevents`,'_blank');
}
function shareFacebook(url){
  window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`,'_blank');
}
function copyLink(url,btn){
  navigator.clipboard.writeText(url);
  const orig=btn.textContent;
  btn.textContent='Copied!';
  btn.style.color='var(--green)';
  setTimeout(()=>{btn.textContent=orig;btn.style.color='';},2000);
}

init();
</script>
</body>
</html>
